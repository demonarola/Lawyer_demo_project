{% extends 'client/base.html' %} {% block body_block %}
<style>
    .center {
        margin: auto;
        width: 50%;
        padding: 5px;
    }
    
    .label-text {
        font-family: "Arial", Times, serif;
        font-weight: 200;
    }
    
    .separator {
        border-right: 1px solid #dfdfe0;
    }
    
    .icon-btn-save {
        padding-top: 0;
        padding-bottom: 0;
    }
    
    .input-group {
        margin-bottom: 10px;
    }
    
    .btn-save-label {
        position: relative;
        left: -12px;
        display: inline-block;
        padding: 6px 12px;
        background: rgba(0, 0, 0, 0.15);
        border-radius: 3px 0 0 3px;
    }
</style>
{% if msg %}

    {% if status == 1 %}
        <div class='container' style='margin-top:2%'>
            <div class="alert alert-success">
                <i>{{msg}}</i>
                <a href='{% url "login" %}'>Login</a>
            </div>
        </div>
    {% else %}
        <div class='container' style='margin-top:3%'>
            <div class="alert alert-danger">
                <i><strong>Oooop's!</strong> {{msg}}</i>
            </div>
        </div>

    {% endif %}
{% endif %}

<div class="container bootstrap snippet" style='margin-top:3%;'>
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-6 col-md-offset-2">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        <span class="fa fa-th"></span> Change password
                    </h3>
                </div>
                <form name='' method='POST'>
                    {% csrf_token %}
                    <div class="panel-body">

                        <div class="row">
                            <div class="col-xs-6 col-sm-6 col-md-6 separator social-login-box"> <br>
                                <img alt="" class="img-thumbnail" src="https://bootdey.com/img/Content/avatar/avatar1.png">
                            </div>
                            <div style="margin-top:80px;" class="col-xs-6 col-sm-6 col-md-6 login-box">
                                <div class="form-group">
                                    <div class="input-group">
                                        <div class="input-group-addon"><span class="fa fa-lock"></span></div>
                                        <input class="form-control" type="password" placeholder="Current Password" name='old_password' id='oldpassword' required pattern='.{6,10}'>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="input-group">
                                        <div class="input-group-addon"><span class="fa fa-sign-in"></span></div>
                                        <input class="form-control" type="password" placeholder="New Password" name='new_password' id='checkpassword' required pattern='.{6,10}'>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="input-group">
                                        <div class="input-group-addon"><span class="fa fa-sign-in"></span></div>
                                        <input class="form-control" type="password" placeholder="Confirm Password" name='confirm_password' id='checkconfirmpassword' required pattern='.{6,10}'>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="panel-footer">
                        <div class="row">
                            <div class="col-xs-6 col-sm-6 col-md-6"></div>
                            <div class="col-xs-6 col-sm-6 col-md-6">
                                <input type='submit' name='submit' value='Submit' class='btn btn-primary' />
                            </div>
                        </div>
                    </div>
            </div>
            </form>
        </div>
    <div style="margin-top:135px;" class="col-xs-6 col-sm-6 col-md-6 login-box">
            <div class="form-group">
                <div class="input-group">
                </div>
            </div>
            <div class="form-group">
                <div class="input-group">
                    <strong style='padding-top:40px;' ><span id="passwordlength" class="fa fa-close" style="color:#FF0004;"></span> Password must be 6-10 characters long<br></strong>
                </div>
            </div>
            <div class="form-group">
                <div class="input-group">
                    <strong style='padding-top:20px;' ><span id="pwmatch" class="fa fa-close" style="color:#FF0004;"></span> Password Match</strong>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
    $("input[type=password]").keyup(function() {
        if($("#checkpassword").val().length >= 6 && $("#checkpassword").val().length <= 10)
        {
            $("#passwordlength").removeClass("fa-close");
            $("#passwordlength").addClass("fa-check");
            $("#passwordlength").css("color","#00A41E");
        }
        else{

            $("#passwordlength").removeClass("fa-check");
            $("#passwordlength").addClass("fa-close");
            $("#passwordlength").css("color","#FF0004");
        }
        if($("#checkpassword").val() == '' &&  $("#checkconfirmpassword").val() == ''){
            $("#pwmatch").removeClass("fa-check");
            $("#pwmatch").addClass("fa-close");
            $("#pwmatch").css("color","#FF0004");
        }
        else if($("#checkpassword").val() == $("#checkconfirmpassword").val()){
            $("#pwmatch").removeClass("fa-close");
            $("#pwmatch").addClass("fa-check");
            $("#pwmatch").css("color","#00A41E");
        }
    
        else {
            $("#pwmatch").removeClass("fa-check");
            $("#pwmatch").addClass("fa-close");
            $("#pwmatch").css("color","#FF0004");
        }

    });
</script>

{% endblock %}